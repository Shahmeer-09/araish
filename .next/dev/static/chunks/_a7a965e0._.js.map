{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///E:/downloads/project/jewelry-showcase/components/Header.tsx"],"sourcesContent":["'use client';\n\nimport Link from 'next/link';\nimport { useState, useEffect } from 'react';\nimport { usePathname } from 'next/navigation';\n\nexport default function Header() {\n  const [scrolled, setScrolled] = useState(false);\n  const pathname = usePathname();\n\n  useEffect(() => {\n    const handleScroll = () => {\n      setScrolled(window.scrollY > 50);\n    };\n\n    window.addEventListener('scroll', handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  // Check if we're on home page\n  const isHomePage = pathname === '/';\n  // Check if we're on admin or product page\n  const isLightPage = pathname?.startsWith('/admin') || pathname?.startsWith('/product');\n\n  // On home page: white text when not scrolled (dark hero), dark text when scrolled\n  // On other pages: always dark text (light background)\n  const baseTextColor = isHomePage \n    ? (scrolled ? 'text-gray-900' : 'text-white')\n    : 'text-gray-900';\n\n  const scrollToTop = () => window.scrollTo({ top: 0, behavior: 'smooth' });\n\n  return (\n    <header\n      className={`fixed top-0 left-0 right-0 z-50 transition-all duration-700 ${\n        // Home page: gradient on top, white when scrolled\n        isHomePage \n          ? (scrolled\n              ? 'bg-white/98 backdrop-blur-lg shadow-lg shadow-black/5'\n              : 'bg-gradient-to-b from-black/50 to-transparent')\n          // Other pages: always white/light background\n          : 'bg-white/98 backdrop-blur-lg shadow-lg shadow-black/5'\n      }`}\n    >\n      {/* Decorative gold line */}\n      <div className={`absolute bottom-0 left-0 right-0 h-px transition-opacity duration-500 ${\n        scrolled ? 'opacity-100' : 'opacity-0'\n      }`}>\n        <div className=\"h-full bg-gradient-to-r from-transparent via-[var(--gold)]/50 to-transparent\" />\n      </div>\n\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div className=\"flex justify-between items-center h-24\">\n          <Link\n            href=\"/\"\n            onClick={() => {\n              if (typeof window !== 'undefined') {\n                scrollToTop();\n              }\n            }}\n            className={`group flex items-center gap-3 transition-all duration-300 ${baseTextColor}`}\n          >\n            {/* Decorative element */}\n            <span className={`text-[var(--gold)] opacity-0 group-hover:opacity-100 transition-opacity duration-300 ${scrolled ? 'text-[var(--gold)]' : 'text-[var(--gold-light)]'}`}>✦</span>\n            <span className=\"text-2xl font-serif tracking-[0.25em] group-hover:text-[var(--gold)] transition-colors duration-300\">\n              ARAISH\n            </span>\n            <span className={`text-[var(--gold)] opacity-0 group-hover:opacity-100 transition-opacity duration-300 ${scrolled ? 'text-[var(--gold)]' : 'text-[var(--gold-light)]'}`}>✦</span>\n          </Link>\n\n          <nav className=\"hidden md:flex items-center gap-10\">\n            {[\n              { href: '/', label: 'Collections' },\n              { href: '/#about', label: 'About' },\n              { href: '/#contact', label: 'Contact' }\n            ].map((item) => (\n              <Link\n                key={item.label}\n                href={item.href}\n                className={`group relative text-sm tracking-[0.15em] uppercase transition-colors duration-300 hover:text-[var(--gold)] ${baseTextColor}`}\n              >\n                <span>{item.label}</span>\n                {/* Elegant underline animation */}\n                <span className=\"absolute -bottom-1 left-0 w-0 h-px bg-[var(--gold)] group-hover:w-full transition-all duration-300\" />\n              </Link>\n            ))}\n          </nav>\n\n          {/* Mobile menu button */}\n          <button className={`md:hidden p-2 transition-colors duration-300 hover:text-[var(--gold)] ${baseTextColor}`}>\n            <svg className=\"w-6 h-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5} d=\"M4 6h16M4 12h16M4 18h16\" />\n            </svg>\n          </button>\n        </div>\n      </div>\n    </header>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMe,SAAS;;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,WAAW,IAAA,oJAAW;IAE5B,IAAA,0KAAS;4BAAC;YACR,MAAM;iDAAe;oBACnB,YAAY,OAAO,OAAO,GAAG;gBAC/B;;YAEA,OAAO,gBAAgB,CAAC,UAAU;YAClC;oCAAO,IAAM,OAAO,mBAAmB,CAAC,UAAU;;QACpD;2BAAG,EAAE;IAEL,8BAA8B;IAC9B,MAAM,aAAa,aAAa;IAChC,0CAA0C;IAC1C,MAAM,cAAc,UAAU,WAAW,aAAa,UAAU,WAAW;IAE3E,kFAAkF;IAClF,sDAAsD;IACtD,MAAM,gBAAgB,aACjB,WAAW,kBAAkB,eAC9B;IAEJ,MAAM,cAAc,IAAM,OAAO,QAAQ,CAAC;YAAE,KAAK;YAAG,UAAU;QAAS;IAEvE,qBACE,6LAAC;QACC,WAAW,CAAC,4DAA4D,EACtE,kDAAkD;QAClD,aACK,WACG,0DACA,kDAEJ,yDACJ;;0BAGF,6LAAC;gBAAI,WAAW,CAAC,sEAAsE,EACrF,WAAW,gBAAgB,aAC3B;0BACA,cAAA,6LAAC;oBAAI,WAAU;;;;;;;;;;;0BAGjB,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC,0KAAI;4BACH,MAAK;4BACL,SAAS;gCACP,wCAAmC;oCACjC;gCACF;4BACF;4BACA,WAAW,CAAC,0DAA0D,EAAE,eAAe;;8CAGvF,6LAAC;oCAAK,WAAW,CAAC,qFAAqF,EAAE,WAAW,uBAAuB,4BAA4B;8CAAE;;;;;;8CACzK,6LAAC;oCAAK,WAAU;8CAAsG;;;;;;8CAGtH,6LAAC;oCAAK,WAAW,CAAC,qFAAqF,EAAE,WAAW,uBAAuB,4BAA4B;8CAAE;;;;;;;;;;;;sCAG3K,6LAAC;4BAAI,WAAU;sCACZ;gCACC;oCAAE,MAAM;oCAAK,OAAO;gCAAc;gCAClC;oCAAE,MAAM;oCAAW,OAAO;gCAAQ;gCAClC;oCAAE,MAAM;oCAAa,OAAO;gCAAU;6BACvC,CAAC,GAAG,CAAC,CAAC,qBACL,6LAAC,0KAAI;oCAEH,MAAM,KAAK,IAAI;oCACf,WAAW,CAAC,2GAA2G,EAAE,eAAe;;sDAExI,6LAAC;sDAAM,KAAK,KAAK;;;;;;sDAEjB,6LAAC;4CAAK,WAAU;;;;;;;mCANX,KAAK,KAAK;;;;;;;;;;sCAYrB,6LAAC;4BAAO,WAAW,CAAC,sEAAsE,EAAE,eAAe;sCACzG,cAAA,6LAAC;gCAAI,WAAU;gCAAU,MAAK;gCAAO,SAAQ;gCAAY,QAAO;0CAC9D,cAAA,6LAAC;oCAAK,eAAc;oCAAQ,gBAAe;oCAAQ,aAAa;oCAAK,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOrF;GA5FwB;;QAEL,oJAAW;;;KAFN"}},
    {"offset": {"line": 212, "column": 0}, "map": {"version":3,"sources":["file:///E:/downloads/project/jewelry-showcase/components/Footer.tsx"],"sourcesContent":["export default function Footer() {\n  return (\n    <footer className=\"relative bg-[#1a1a1a] text-white overflow-hidden\">\n      {/* Decorative top border */}\n      <div className=\"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-[var(--gold)] to-transparent\" />\n      \n      {/* Subtle pattern overlay */}\n      <div className=\"absolute inset-0 opacity-5\">\n        <div className=\"absolute inset-0\" style={{\n          backgroundImage: `url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23c9a227' fill-opacity='0.4'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")`,\n        }} />\n      </div>\n\n      <div className=\"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20\">\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-16\">\n          {/* Brand Section */}\n          <div className=\"space-y-6\">\n            <h3 className=\"text-3xl font-serif tracking-[0.3em] gold-gradient-text\">ARAISH</h3>\n            <div className=\"w-16 h-px bg-gradient-to-r from-[var(--gold)] to-transparent\" />\n            <p className=\"text-gray-400 leading-relaxed text-sm\">\n              Exquisite handcrafted jewelry that tells your unique story. Each\n              piece is a testament to timeless elegance and superior\n              craftsmanship, designed for those who appreciate the finer things in life.\n            </p>\n            {/* Social icons placeholder */}\n            <div className=\"flex gap-4 pt-4\">\n              <div className=\"w-10 h-10 rounded-full border border-[var(--gold)]/30 flex items-center justify-center hover:border-[var(--gold)] hover:bg-[var(--gold)]/10 transition-all duration-300 cursor-pointer\">\n                <span className=\"text-[var(--gold)] text-sm\">✦</span>\n              </div>\n              <div className=\"w-10 h-10 rounded-full border border-[var(--gold)]/30 flex items-center justify-center hover:border-[var(--gold)] hover:bg-[var(--gold)]/10 transition-all duration-300 cursor-pointer\">\n                <span className=\"text-[var(--gold)] text-sm\">✦</span>\n              </div>\n            </div>\n          </div>\n\n          {/* Quick Links */}\n          <div className=\"space-y-6\">\n            <h4 className=\"text-sm tracking-[0.2em] uppercase text-[var(--gold)] font-medium\">\n              Quick Links\n            </h4>\n            <div className=\"w-8 h-px bg-[var(--gold)]/50\" />\n            <ul className=\"space-y-4\">\n              {['Collections', 'About Us', 'Contact'].map((item, index) => (\n                <li key={item}>\n                  <a\n                    href={item === 'Collections' ? '/' : `/#${item.toLowerCase().replace(' ', '')}`}\n                    className=\"group flex items-center gap-3 text-gray-400 hover:text-white transition-colors duration-300\"\n                  >\n                    <span className=\"w-0 h-px bg-[var(--gold)] group-hover:w-4 transition-all duration-300\" />\n                    <span className=\"tracking-wide\">{item}</span>\n                  </a>\n                </li>\n              ))}\n            </ul>\n          </div>\n\n          {/* Contact Info */}\n          <div className=\"space-y-6\">\n            <h4 className=\"text-sm tracking-[0.2em] uppercase text-[var(--gold)] font-medium\">\n              Get In Touch\n            </h4>\n            <div className=\"w-8 h-px bg-[var(--gold)]/50\" />\n            <ul className=\"space-y-4 text-gray-400\">\n              <li className=\"flex items-center gap-3\">\n                <span className=\"text-[var(--gold)]\">✦</span>\n                <span>WhatsApp Available</span>\n              </li>\n              <li className=\"flex items-center gap-3\">\n                <span className=\"text-[var(--gold)]\">✦</span>\n                <span>Mon - Sat: 10:00 - 18:00</span>\n              </li>\n              <li className=\"flex items-center gap-3\">\n                <span className=\"text-[var(--gold)]\">✦</span>\n                <span>Premium Quality Assured</span>\n              </li>\n            </ul>\n          </div>\n        </div>\n\n        {/* Bottom section */}\n        <div className=\"relative mt-16 pt-8\">\n          <div className=\"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-gray-700 to-transparent\" />\n          <div className=\"flex flex-col md:flex-row items-center justify-between gap-4 text-gray-500 text-sm\">\n            <p className=\"tracking-wide\">\n              &copy; {new Date().getFullYear()} <span className=\"text-[var(--gold)]\">Araish</span>. All rights reserved.\n            </p>\n            <p className=\"tracking-wider text-xs\">\n              Crafted with <span className=\"text-[var(--gold)]\">♦</span> Excellence\n            </p>\n          </div>\n        </div>\n      </div>\n    </footer>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAAe,SAAS;IACtB,qBACE,6LAAC;QAAO,WAAU;;0BAEhB,6LAAC;gBAAI,WAAU;;;;;;0BAGf,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;oBAAmB,OAAO;wBACvC,iBAAiB,CAAC,iXAAiX,CAAC;oBACtY;;;;;;;;;;;0BAGF,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CAEb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAG,WAAU;kDAA0D;;;;;;kDACxE,6LAAC;wCAAI,WAAU;;;;;;kDACf,6LAAC;wCAAE,WAAU;kDAAwC;;;;;;kDAMrD,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;gDAAI,WAAU;0DACb,cAAA,6LAAC;oDAAK,WAAU;8DAA6B;;;;;;;;;;;0DAE/C,6LAAC;gDAAI,WAAU;0DACb,cAAA,6LAAC;oDAAK,WAAU;8DAA6B;;;;;;;;;;;;;;;;;;;;;;;0CAMnD,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAG,WAAU;kDAAoE;;;;;;kDAGlF,6LAAC;wCAAI,WAAU;;;;;;kDACf,6LAAC;wCAAG,WAAU;kDACX;4CAAC;4CAAe;4CAAY;yCAAU,CAAC,GAAG,CAAC,CAAC,MAAM,sBACjD,6LAAC;0DACC,cAAA,6LAAC;oDACC,MAAM,SAAS,gBAAgB,MAAM,CAAC,EAAE,EAAE,KAAK,WAAW,GAAG,OAAO,CAAC,KAAK,KAAK;oDAC/E,WAAU;;sEAEV,6LAAC;4DAAK,WAAU;;;;;;sEAChB,6LAAC;4DAAK,WAAU;sEAAiB;;;;;;;;;;;;+CAN5B;;;;;;;;;;;;;;;;0CAcf,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAG,WAAU;kDAAoE;;;;;;kDAGlF,6LAAC;wCAAI,WAAU;;;;;;kDACf,6LAAC;wCAAG,WAAU;;0DACZ,6LAAC;gDAAG,WAAU;;kEACZ,6LAAC;wDAAK,WAAU;kEAAqB;;;;;;kEACrC,6LAAC;kEAAK;;;;;;;;;;;;0DAER,6LAAC;gDAAG,WAAU;;kEACZ,6LAAC;wDAAK,WAAU;kEAAqB;;;;;;kEACrC,6LAAC;kEAAK;;;;;;;;;;;;0DAER,6LAAC;gDAAG,WAAU;;kEACZ,6LAAC;wDAAK,WAAU;kEAAqB;;;;;;kEACrC,6LAAC;kEAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAOd,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;;;;;0CACf,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAE,WAAU;;4CAAgB;4CACnB,IAAI,OAAO,WAAW;4CAAG;0DAAC,6LAAC;gDAAK,WAAU;0DAAqB;;;;;;4CAAa;;;;;;;kDAEtF,6LAAC;wCAAE,WAAU;;4CAAyB;0DACvB,6LAAC;gDAAK,WAAU;0DAAqB;;;;;;4CAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOxE;KA9FwB"}},
    {"offset": {"line": 588, "column": 0}, "map": {"version":3,"sources":["file:///E:/downloads/project/jewelry-showcase/components/admin/LoginForm.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\n\r\ninterface LoginFormProps {\r\n  onLoginSuccess: () => void;\r\n}\r\n\r\nexport default function LoginForm({ onLoginSuccess }: LoginFormProps) {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setLoading(true);\r\n\r\n    try {\r\n      const response = await fetch('/api/auth/login', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ username, password }),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (!response.ok) {\r\n        setError(data.error || 'Login failed');\r\n        return;\r\n      }\r\n\r\n      onLoginSuccess();\r\n    } catch {\r\n      setError('An error occurred. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-[60vh] flex items-center justify-center\">\r\n      <div className=\"w-full max-w-md p-8 bg-white shadow-lg rounded-sm border border-gray-200\">\r\n        <h2 className=\"text-2xl font-serif tracking-[0.15em] text-center mb-8\">\r\n          ADMIN LOGIN\r\n        </h2>\r\n        <div className=\"w-16 h-px bg-[var(--gold)] mx-auto mb-8\" />\r\n\r\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n          {error && (\r\n            <div className=\"p-3 bg-red-50 border border-red-200 text-red-700 text-sm rounded\">\r\n              {error}\r\n            </div>\r\n          )}\r\n\r\n          <div>\r\n            <label htmlFor=\"username\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Username\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"username\"\r\n              value={username}\r\n              onChange={(e) => setUsername(e.target.value)}\r\n              className=\"w-full px-4 py-3 border border-gray-300 rounded-sm focus:outline-none focus:border-[var(--gold)] transition-colors\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Password\r\n            </label>\r\n            <input\r\n              type=\"password\"\r\n              id=\"password\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              className=\"w-full px-4 py-3 border border-gray-300 rounded-sm focus:outline-none focus:border-[var(--gold)] transition-colors\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <button\r\n            type=\"submit\"\r\n            disabled={loading}\r\n            className=\"w-full py-3 bg-[var(--gold)] text-white font-medium tracking-wider hover:bg-[var(--gold-dark)] transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n          >\r\n            {loading ? 'LOGGING IN...' : 'LOGIN'}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAQe,SAAS,UAAU,EAAE,cAAc,EAAkB;;IAClE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAC;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,SAAS;QACT,WAAW;QAEX,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,mBAAmB;gBAC9C,QAAQ;gBACR,SAAS;oBACP,gBAAgB;gBAClB;gBACA,MAAM,KAAK,SAAS,CAAC;oBAAE;oBAAU;gBAAS;YAC5C;YAEA,MAAM,OAAO,MAAM,SAAS,IAAI;YAEhC,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,SAAS,KAAK,KAAK,IAAI;gBACvB;YACF;YAEA;QACF,EAAE,OAAM;YACN,SAAS;QACX,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAG,WAAU;8BAAyD;;;;;;8BAGvE,6LAAC;oBAAI,WAAU;;;;;;8BAEf,6LAAC;oBAAK,UAAU;oBAAc,WAAU;;wBACrC,uBACC,6LAAC;4BAAI,WAAU;sCACZ;;;;;;sCAIL,6LAAC;;8CACC,6LAAC;oCAAM,SAAQ;oCAAW,WAAU;8CAA+C;;;;;;8CAGnF,6LAAC;oCACC,MAAK;oCACL,IAAG;oCACH,OAAO;oCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;oCAC3C,WAAU;oCACV,QAAQ;;;;;;;;;;;;sCAIZ,6LAAC;;8CACC,6LAAC;oCAAM,SAAQ;oCAAW,WAAU;8CAA+C;;;;;;8CAGnF,6LAAC;oCACC,MAAK;oCACL,IAAG;oCACH,OAAO;oCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;oCAC3C,WAAU;oCACV,QAAQ;;;;;;;;;;;;sCAIZ,6LAAC;4BACC,MAAK;4BACL,UAAU;4BACV,WAAU;sCAET,UAAU,kBAAkB;;;;;;;;;;;;;;;;;;;;;;;AAMzC;GAzFwB;KAAA"}},
    {"offset": {"line": 760, "column": 0}, "map": {"version":3,"sources":["file:///E:/downloads/project/jewelry-showcase/components/admin/ProductForm.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useRef } from 'react';\r\n\r\ninterface ProductFormProps {\r\n  product?: {\r\n    id: string;\r\n    name: string;\r\n    category: string;\r\n    description: string;\r\n    price: number;\r\n    material: string;\r\n    inStock: boolean;\r\n    featured: boolean;\r\n    images: { id: string; mimeType: string }[];\r\n  };\r\n  onSuccess: () => void;\r\n  onCancel: () => void;\r\n}\r\n\r\nconst CATEGORIES = ['rings', 'necklaces', 'earrings', 'bracelets', 'sets'];\r\n\r\nexport default function ProductForm({ product, onSuccess, onCancel }: ProductFormProps) {\r\n  const [formData, setFormData] = useState({\r\n    name: product?.name || '',\r\n    category: product?.category || 'rings',\r\n    description: product?.description || '',\r\n    price: product?.price?.toString() || '',\r\n    material: product?.material || '',\r\n    inStock: product?.inStock ?? true,\r\n    featured: product?.featured ?? false,\r\n  });\r\n  const [selectedFiles, setSelectedFiles] = useState<File[]>([]);\r\n  const [imagesToDelete, setImagesToDelete] = useState<string[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  const isEditing = !!product;\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {\r\n    const { name, value, type } = e.target;\r\n    \r\n    if (type === 'checkbox') {\r\n      const checked = (e.target as HTMLInputElement).checked;\r\n      setFormData(prev => ({ ...prev, [name]: checked }));\r\n    } else {\r\n      setFormData(prev => ({ ...prev, [name]: value }));\r\n    }\r\n  };\r\n\r\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const files = Array.from(e.target.files || []);\r\n    setSelectedFiles(prev => [...prev, ...files]);\r\n  };\r\n\r\n  const removeSelectedFile = (index: number) => {\r\n    setSelectedFiles(prev => prev.filter((_, i) => i !== index));\r\n  };\r\n\r\n  const toggleDeleteExistingImage = (imageId: string) => {\r\n    setImagesToDelete(prev => \r\n      prev.includes(imageId) \r\n        ? prev.filter(id => id !== imageId)\r\n        : [...prev, imageId]\r\n    );\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setLoading(true);\r\n\r\n    try {\r\n      const form = new FormData();\r\n      form.append('name', formData.name);\r\n      form.append('category', formData.category);\r\n      form.append('description', formData.description);\r\n      form.append('price', formData.price);\r\n      form.append('material', formData.material);\r\n      form.append('inStock', formData.inStock.toString());\r\n      form.append('featured', formData.featured.toString());\r\n\r\n      selectedFiles.forEach(file => {\r\n        form.append('images', file);\r\n      });\r\n\r\n      imagesToDelete.forEach(id => {\r\n        form.append('deleteImages', id);\r\n      });\r\n\r\n      const url = isEditing ? `/api/products/${product.id}` : '/api/products';\r\n      const method = isEditing ? 'PUT' : 'POST';\r\n\r\n      const response = await fetch(url, {\r\n        method,\r\n        body: form,\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const data = await response.json();\r\n        throw new Error(data.error || 'Failed to save product');\r\n      }\r\n\r\n      onSuccess();\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'An error occurred');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white p-6 rounded-sm shadow-lg border border-gray-200\">\r\n      <h3 className=\"text-xl font-serif tracking-[0.1em] mb-6\">\r\n        {isEditing ? 'EDIT PRODUCT' : 'ADD NEW PRODUCT'}\r\n      </h3>\r\n      <div className=\"w-12 h-px bg-[var(--gold)] mb-6\" />\r\n\r\n      <form onSubmit={handleSubmit} className=\"space-y-5\">\r\n        {error && (\r\n          <div className=\"p-3 bg-red-50 border border-red-200 text-red-700 text-sm rounded\">\r\n            {error}\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-5\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Product Name *\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"name\"\r\n              value={formData.name}\r\n              onChange={handleChange}\r\n              className=\"w-full px-4 py-2.5 border border-gray-300 rounded-sm focus:outline-none focus:border-[var(--gold)]\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Category *\r\n            </label>\r\n            <select\r\n              name=\"category\"\r\n              value={formData.category}\r\n              onChange={handleChange}\r\n              className=\"w-full px-4 py-2.5 border border-gray-300 rounded-sm focus:outline-none focus:border-[var(--gold)] bg-white\"\r\n              required\r\n            >\r\n              {CATEGORIES.map(cat => (\r\n                <option key={cat} value={cat}>\r\n                  {cat.charAt(0).toUpperCase() + cat.slice(1)}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Price ($) *\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              name=\"price\"\r\n              value={formData.price}\r\n              onChange={handleChange}\r\n              step=\"0.01\"\r\n              min=\"0\"\r\n              className=\"w-full px-4 py-2.5 border border-gray-300 rounded-sm focus:outline-none focus:border-[var(--gold)]\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Material *\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"material\"\r\n              value={formData.material}\r\n              onChange={handleChange}\r\n              className=\"w-full px-4 py-2.5 border border-gray-300 rounded-sm focus:outline-none focus:border-[var(--gold)]\"\r\n              placeholder=\"e.g., 18K Gold, Diamond\"\r\n              required\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n            Description *\r\n          </label>\r\n          <textarea\r\n            name=\"description\"\r\n            value={formData.description}\r\n            onChange={handleChange}\r\n            rows={4}\r\n            className=\"w-full px-4 py-2.5 border border-gray-300 rounded-sm focus:outline-none focus:border-[var(--gold)] resize-none\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div className=\"flex gap-6\">\r\n          <label className=\"flex items-center gap-2 cursor-pointer\">\r\n            <input\r\n              type=\"checkbox\"\r\n              name=\"inStock\"\r\n              checked={formData.inStock}\r\n              onChange={handleChange}\r\n              className=\"w-4 h-4 text-[var(--gold)] border-gray-300 rounded focus:ring-[var(--gold)]\"\r\n            />\r\n            <span className=\"text-sm text-gray-700\">In Stock</span>\r\n          </label>\r\n\r\n          <label className=\"flex items-center gap-2 cursor-pointer\">\r\n            <input\r\n              type=\"checkbox\"\r\n              name=\"featured\"\r\n              checked={formData.featured}\r\n              onChange={handleChange}\r\n              className=\"w-4 h-4 text-[var(--gold)] border-gray-300 rounded focus:ring-[var(--gold)]\"\r\n            />\r\n            <span className=\"text-sm text-gray-700\">Featured</span>\r\n          </label>\r\n        </div>\r\n\r\n        {/* Existing Images */}\r\n        {isEditing && product.images.length > 0 && (\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n              Existing Images\r\n            </label>\r\n            <div className=\"flex flex-wrap gap-3\">\r\n              {product.images.map(img => (\r\n                <div \r\n                  key={img.id} \r\n                  className={`relative group ${imagesToDelete.includes(img.id) ? 'opacity-40' : ''}`}\r\n                >\r\n                  <img\r\n                    src={`/api/images/${img.id}`}\r\n                    alt=\"Product\"\r\n                    className=\"w-24 h-24 object-cover rounded-sm border border-gray-200\"\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => toggleDeleteExistingImage(img.id)}\r\n                    className={`absolute -top-2 -right-2 w-6 h-6 rounded-full flex items-center justify-center text-white text-xs ${\r\n                      imagesToDelete.includes(img.id) \r\n                        ? 'bg-green-500 hover:bg-green-600' \r\n                        : 'bg-red-500 hover:bg-red-600'\r\n                    }`}\r\n                  >\r\n                    {imagesToDelete.includes(img.id) ? '↺' : '×'}\r\n                  </button>\r\n                </div>\r\n              ))}\r\n            </div>\r\n            {imagesToDelete.length > 0 && (\r\n              <p className=\"text-xs text-red-600 mt-2\">\r\n                {imagesToDelete.length} image(s) will be deleted on save\r\n              </p>\r\n            )}\r\n          </div>\r\n        )}\r\n\r\n        {/* New Images */}\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n            {isEditing ? 'Add New Images' : 'Product Images'}\r\n          </label>\r\n          <input\r\n            type=\"file\"\r\n            ref={fileInputRef}\r\n            onChange={handleFileChange}\r\n            accept=\"image/*\"\r\n            multiple\r\n            className=\"hidden\"\r\n          />\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => fileInputRef.current?.click()}\r\n            className=\"px-4 py-2 border border-dashed border-gray-400 rounded-sm text-sm text-gray-600 hover:border-[var(--gold)] hover:text-[var(--gold)] transition-colors\"\r\n          >\r\n            + Add Images\r\n          </button>\r\n\r\n          {selectedFiles.length > 0 && (\r\n            <div className=\"flex flex-wrap gap-3 mt-3\">\r\n              {selectedFiles.map((file, index) => (\r\n                <div key={index} className=\"relative\">\r\n                  <img\r\n                    src={URL.createObjectURL(file)}\r\n                    alt={`New ${index + 1}`}\r\n                    className=\"w-24 h-24 object-cover rounded-sm border border-gray-200\"\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => removeSelectedFile(index)}\r\n                    className=\"absolute -top-2 -right-2 w-6 h-6 bg-red-500 rounded-full flex items-center justify-center text-white text-xs hover:bg-red-600\"\r\n                  >\r\n                    ×\r\n                  </button>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"flex gap-3 pt-4\">\r\n          <button\r\n            type=\"submit\"\r\n            disabled={loading}\r\n            className=\"flex-1 py-2.5 bg-[var(--gold)] text-white font-medium tracking-wider hover:bg-[var(--gold-dark)] transition-colors disabled:opacity-50\"\r\n          >\r\n            {loading ? 'SAVING...' : isEditing ? 'UPDATE PRODUCT' : 'ADD PRODUCT'}\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            onClick={onCancel}\r\n            className=\"px-6 py-2.5 border border-gray-300 text-gray-700 font-medium tracking-wider hover:bg-gray-50 transition-colors\"\r\n          >\r\n            CANCEL\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1303, "column": 0}, "map": {"version":3,"sources":["file:///E:/downloads/project/jewelry-showcase/components/admin/ProductList.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState } from 'react';\r\n\r\ninterface Product {\r\n  id: string;\r\n  name: string;\r\n  category: string;\r\n  description: string;\r\n  price: number;\r\n  material: string;\r\n  inStock: boolean;\r\n  featured: boolean;\r\n  images: { id: string; mimeType: string }[];\r\n}\r\n\r\ninterface ProductListProps {\r\n  products: Product[];\r\n  onEdit: (product: Product) => void;\r\n  onDelete: (id: string) => void;\r\n  loading: boolean;\r\n}\r\n\r\nexport default function ProductList({ products, onEdit, onDelete, loading }: ProductListProps) {\r\n  const [deleteConfirm, setDeleteConfirm] = useState<string | null>(null);\r\n  const [deleting, setDeleting] = useState<string | null>(null);\r\n\r\n  const handleDelete = async (id: string) => {\r\n    setDeleting(id);\r\n    await onDelete(id);\r\n    setDeleting(null);\r\n    setDeleteConfirm(null);\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"text-center py-12\">\r\n        <div className=\"inline-block w-8 h-8 border-2 border-[var(--gold)] border-t-transparent rounded-full animate-spin\"></div>\r\n        <p className=\"mt-4 text-gray-600\">Loading products...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (products.length === 0) {\r\n    return (\r\n      <div className=\"text-center py-12 bg-gray-50 rounded-sm\">\r\n        <p className=\"text-gray-600\">No products found. Add your first product!</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"overflow-x-auto\">\r\n      <table className=\"w-full border-collapse\">\r\n        <thead>\r\n          <tr className=\"bg-gray-50 border-b border-gray-200\">\r\n            <th className=\"text-left p-4 text-sm font-medium text-gray-600 tracking-wider\">IMAGE</th>\r\n            <th className=\"text-left p-4 text-sm font-medium text-gray-600 tracking-wider\">NAME</th>\r\n            <th className=\"text-left p-4 text-sm font-medium text-gray-600 tracking-wider\">CATEGORY</th>\r\n            <th className=\"text-left p-4 text-sm font-medium text-gray-600 tracking-wider\">PRICE</th>\r\n            <th className=\"text-left p-4 text-sm font-medium text-gray-600 tracking-wider\">STATUS</th>\r\n            <th className=\"text-right p-4 text-sm font-medium text-gray-600 tracking-wider\">ACTIONS</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {products.map(product => (\r\n            <tr key={product.id} className=\"border-b border-gray-100 hover:bg-gray-50\">\r\n              <td className=\"p-4\">\r\n                {product.images.length > 0 ? (\r\n                  <img\r\n                    src={`/api/images/${product.images[0].id}`}\r\n                    alt={product.name}\r\n                    className=\"w-16 h-16 object-cover rounded-sm\"\r\n                  />\r\n                ) : (\r\n                  <div className=\"w-16 h-16 bg-gray-200 rounded-sm flex items-center justify-center text-gray-400 text-xs\">\r\n                    No Image\r\n                  </div>\r\n                )}\r\n              </td>\r\n              <td className=\"p-4\">\r\n                <div className=\"font-medium text-gray-900\">{product.name}</div>\r\n                <div className=\"text-sm text-gray-500 truncate max-w-xs\">{product.description}</div>\r\n              </td>\r\n              <td className=\"p-4\">\r\n                <span className=\"capitalize text-gray-700\">{product.category}</span>\r\n              </td>\r\n              <td className=\"p-4\">\r\n                <span className=\"text-gray-900\">${product.price.toLocaleString()}</span>\r\n              </td>\r\n              <td className=\"p-4\">\r\n                <div className=\"flex flex-col gap-1\">\r\n                  <span className={`inline-flex items-center px-2 py-1 text-xs rounded-full ${\r\n                    product.inStock \r\n                      ? 'bg-green-100 text-green-800' \r\n                      : 'bg-red-100 text-red-800'\r\n                  }`}>\r\n                    {product.inStock ? 'In Stock' : 'Out of Stock'}\r\n                  </span>\r\n                  {product.featured && (\r\n                    <span className=\"inline-flex items-center px-2 py-1 text-xs rounded-full bg-[var(--gold)] bg-opacity-20 text-[var(--gold-dark)]\">\r\n                      Featured\r\n                    </span>\r\n                  )}\r\n                </div>\r\n              </td>\r\n              <td className=\"p-4 text-right\">\r\n                {deleteConfirm === product.id ? (\r\n                  <div className=\"flex items-center justify-end gap-2\">\r\n                    <span className=\"text-sm text-gray-600\">Delete?</span>\r\n                    <button\r\n                      onClick={() => handleDelete(product.id)}\r\n                      disabled={deleting === product.id}\r\n                      className=\"px-3 py-1 bg-red-500 text-white text-sm rounded hover:bg-red-600 disabled:opacity-50\"\r\n                    >\r\n                      {deleting === product.id ? '...' : 'Yes'}\r\n                    </button>\r\n                    <button\r\n                      onClick={() => setDeleteConfirm(null)}\r\n                      className=\"px-3 py-1 bg-gray-200 text-gray-700 text-sm rounded hover:bg-gray-300\"\r\n                    >\r\n                      No\r\n                    </button>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"flex items-center justify-end gap-2\">\r\n                    <button\r\n                      onClick={() => onEdit(product)}\r\n                      className=\"px-3 py-1.5 border border-[var(--gold)] text-[var(--gold)] text-sm rounded hover:bg-[var(--gold)] hover:text-white transition-colors\"\r\n                    >\r\n                      Edit\r\n                    </button>\r\n                    <button\r\n                      onClick={() => setDeleteConfirm(product.id)}\r\n                      className=\"px-3 py-1.5 border border-red-400 text-red-500 text-sm rounded hover:bg-red-500 hover:text-white transition-colors\"\r\n                    >\r\n                      Delete\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1654, "column": 0}, "map": {"version":3,"sources":["file:///E:/downloads/project/jewelry-showcase/components/admin/SettingsForm.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useRef, useEffect } from 'react';\r\n\r\ninterface SettingsFormProps {\r\n  onSuccess: () => void;\r\n  onCancel: () => void;\r\n}\r\n\r\nexport default function SettingsForm({ onSuccess, onCancel }: SettingsFormProps) {\r\n  const [bannerTitle, setBannerTitle] = useState('LUXE');\r\n  const [bannerSubtitle, setBannerSubtitle] = useState('Exquisite Handcrafted Jewelry');\r\n  const [shopNameUrdu, setShopNameUrdu] = useState('');\r\n  const [hasBannerImage, setHasBannerImage] = useState(false);\r\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\r\n  const [previewUrl, setPreviewUrl] = useState<string | null>(null);\r\n  const [removeBanner, setRemoveBanner] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [fetchingSettings, setFetchingSettings] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n\r\n  useEffect(() => {\r\n    fetchSettings();\r\n  }, []);\r\n\r\n  const fetchSettings = async () => {\r\n    try {\r\n      const response = await fetch('/api/settings');\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setBannerTitle(data.bannerTitle || 'LUXE');\r\n        setBannerSubtitle(data.bannerSubtitle || 'Exquisite Handcrafted Jewelry');\r\n        setShopNameUrdu(data.shopNameUrdu || '');\r\n        setHasBannerImage(data.hasBannerImage);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching settings:', error);\r\n    } finally {\r\n      setFetchingSettings(false);\r\n    }\r\n  };\r\n\r\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (file) {\r\n      setSelectedFile(file);\r\n      setPreviewUrl(URL.createObjectURL(file));\r\n      setRemoveBanner(false);\r\n    }\r\n  };\r\n\r\n  const handleRemoveBanner = () => {\r\n    setSelectedFile(null);\r\n    setPreviewUrl(null);\r\n    setRemoveBanner(true);\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    setLoading(true);\r\n\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append('bannerTitle', bannerTitle);\r\n      formData.append('bannerSubtitle', bannerSubtitle);\r\n      formData.append('shopNameUrdu', shopNameUrdu);\r\n      \r\n      if (selectedFile) {\r\n        formData.append('bannerImage', selectedFile);\r\n      }\r\n      \r\n      if (removeBanner) {\r\n        formData.append('removeBanner', 'true');\r\n      }\r\n\r\n      const response = await fetch('/api/settings', {\r\n        method: 'POST',\r\n        body: formData,\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const data = await response.json();\r\n        throw new Error(data.error || 'Failed to save settings');\r\n      }\r\n\r\n      onSuccess();\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'An error occurred');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (fetchingSettings) {\r\n    return (\r\n      <div className=\"bg-white p-6 rounded-sm shadow-lg border border-gray-200\">\r\n        <div className=\"text-center py-8\">\r\n          <div className=\"inline-block w-8 h-8 border-2 border-[var(--gold)] border-t-transparent rounded-full animate-spin\"></div>\r\n          <p className=\"mt-4 text-gray-600\">Loading settings...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-white p-6 rounded-sm shadow-lg border border-gray-200\">\r\n      <h3 className=\"text-xl font-serif tracking-[0.1em] mb-6\">\r\n        SITE SETTINGS\r\n      </h3>\r\n      <div className=\"w-12 h-px bg-[var(--gold)] mb-6\" />\r\n\r\n      <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n        {error && (\r\n          <div className=\"p-3 bg-red-50 border border-red-200 text-red-700 text-sm rounded\">\r\n            {error}\r\n          </div>\r\n        )}\r\n\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n            Banner Title\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            value={bannerTitle}\r\n            onChange={(e) => setBannerTitle(e.target.value)}\r\n            className=\"w-full px-4 py-2.5 border border-gray-300 rounded-sm focus:outline-none focus:border-[var(--gold)]\"\r\n            placeholder=\"e.g., LUXE\"\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n            Banner Subtitle\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            value={bannerSubtitle}\r\n            onChange={(e) => setBannerSubtitle(e.target.value)}\r\n            className=\"w-full px-4 py-2.5 border border-gray-300 rounded-sm focus:outline-none focus:border-[var(--gold)]\"\r\n            placeholder=\"e.g., Exquisite Handcrafted Jewelry\"\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n            Shop Name (Urdu) - نام دکان\r\n          </label>\r\n          <input\r\n            type=\"text\"\r\n            value={shopNameUrdu}\r\n            onChange={(e) => setShopNameUrdu(e.target.value)}\r\n            className=\"w-full px-4 py-2.5 border border-gray-300 rounded-sm focus:outline-none focus:border-[var(--gold)] text-right\"\r\n            placeholder=\"مثلاً: زیورات کی دکان\"\r\n            dir=\"rtl\"\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n            Banner Background Image\r\n          </label>\r\n          \r\n          {/* Current/Preview Image */}\r\n          {(previewUrl || (hasBannerImage && !removeBanner)) && (\r\n            <div className=\"relative mb-4\">\r\n              <div className=\"relative h-48 w-full overflow-hidden rounded-sm border border-gray-200\">\r\n                {/* eslint-disable-next-line @next/next/no-img-element */}\r\n                <img\r\n                  src={previewUrl || '/api/settings/banner'}\r\n                  alt=\"Banner preview\"\r\n                  className=\"w-full h-full object-cover\"\r\n                />\r\n                <div className=\"absolute inset-0 bg-black/30 flex items-center justify-center\">\r\n                  <span className=\"text-white text-lg font-serif tracking-widest\">\r\n                    {bannerTitle}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <button\r\n                type=\"button\"\r\n                onClick={handleRemoveBanner}\r\n                className=\"absolute top-2 right-2 px-3 py-1 bg-red-500 text-white text-sm rounded hover:bg-red-600\"\r\n              >\r\n                Remove\r\n              </button>\r\n            </div>\r\n          )}\r\n\r\n          <input\r\n            type=\"file\"\r\n            ref={fileInputRef}\r\n            onChange={handleFileChange}\r\n            accept=\"image/*\"\r\n            className=\"hidden\"\r\n          />\r\n          \r\n          <button\r\n            type=\"button\"\r\n            onClick={() => fileInputRef.current?.click()}\r\n            className=\"px-4 py-2 border border-dashed border-gray-400 rounded-sm text-sm text-gray-600 hover:border-[var(--gold)] hover:text-[var(--gold)] transition-colors\"\r\n          >\r\n            {hasBannerImage || selectedFile ? '+ Change Image' : '+ Upload Image'}\r\n          </button>\r\n          \r\n          <p className=\"text-xs text-gray-500 mt-2\">\r\n            Recommended size: 1920x1080 pixels. If no image is set, a default image will be used.\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"flex gap-3 pt-4\">\r\n          <button\r\n            type=\"submit\"\r\n            disabled={loading}\r\n            className=\"flex-1 py-2.5 bg-[var(--gold)] text-white font-medium tracking-wider hover:bg-[var(--gold-dark)] transition-colors disabled:opacity-50\"\r\n          >\r\n            {loading ? 'SAVING...' : 'SAVE SETTINGS'}\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            onClick={onCancel}\r\n            className=\"px-6 py-2.5 border border-gray-300 text-gray-700 font-medium tracking-wider hover:bg-gray-50 transition-colors\"\r\n          >\r\n            CANCEL\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2036, "column": 0}, "map": {"version":3,"sources":["file:///E:/downloads/project/jewelry-showcase/app/admin/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useCallback } from 'react';\nimport Header from '@/components/Header';\nimport Footer from '@/components/Footer';\nimport LoginForm from '@/components/admin/LoginForm';\nimport ProductForm from '@/components/admin/ProductForm';\nimport ProductList from '@/components/admin/ProductList';\nimport SettingsForm from '@/components/admin/SettingsForm';\n\ninterface Product {\n  id: string;\n  name: string;\n  category: string;\n  description: string;\n  price: number;\n  material: string;\n  inStock: boolean;\n  featured: boolean;\n  images: { id: string; mimeType: string }[];\n}\n\ntype ActiveTab = 'products' | 'settings';\n\nexport default function AdminPage() {\n  const [isAuthenticated, setIsAuthenticated] = useState<boolean | null>(null);\n  const [products, setProducts] = useState<Product[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [showForm, setShowForm] = useState(false);\n  const [editingProduct, setEditingProduct] = useState<Product | null>(null);\n  const [activeTab, setActiveTab] = useState<ActiveTab>('products');\n\n  const checkAuth = useCallback(async () => {\n    try {\n      const response = await fetch('/api/auth/check');\n      const data = await response.json();\n      setIsAuthenticated(data.authenticated);\n    } catch {\n      setIsAuthenticated(false);\n    }\n  }, []);\n\n  const fetchProducts = useCallback(async () => {\n    try {\n      setLoading(true);\n      const response = await fetch('/api/products');\n      if (response.ok) {\n        const data = await response.json();\n        setProducts(data);\n      }\n    } catch (error) {\n      console.error('Error fetching products:', error);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    checkAuth();\n  }, [checkAuth]);\n\n  useEffect(() => {\n    if (isAuthenticated) {\n      fetchProducts();\n    }\n  }, [isAuthenticated, fetchProducts]);\n\n  const handleLogout = async () => {\n    try {\n      await fetch('/api/auth/logout', { method: 'POST' });\n      setIsAuthenticated(false);\n    } catch (error) {\n      console.error('Logout error:', error);\n    }\n  };\n\n  const handleEdit = (product: Product) => {\n    setEditingProduct(product);\n    setShowForm(true);\n  };\n\n  const handleDelete = async (id: string) => {\n    try {\n      const response = await fetch(`/api/products/${id}`, {\n        method: 'DELETE',\n      });\n      if (response.ok) {\n        setProducts(prev => prev.filter(p => p.id !== id));\n      }\n    } catch (error) {\n      console.error('Error deleting product:', error);\n    }\n  };\n\n  const handleFormSuccess = () => {\n    setShowForm(false);\n    setEditingProduct(null);\n    fetchProducts();\n  };\n\n  const handleFormCancel = () => {\n    setShowForm(false);\n    setEditingProduct(null);\n  };\n\n  // Loading state\n  if (isAuthenticated === null) {\n    return (\n      <div className=\"min-h-screen\" suppressHydrationWarning>\n        <Header />\n        <main className=\"pt-24 pb-16\">\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n            <div className=\"text-center py-16\">\n              <div className=\"inline-block w-8 h-8 border-2 border-[var(--gold)] border-t-transparent rounded-full animate-spin\"></div>\n            </div>\n          </div>\n        </main>\n        <Footer />\n      </div>\n    );\n  }\n\n  // Not authenticated - show login\n  if (!isAuthenticated) {\n    return (\n      <div className=\"min-h-screen\" suppressHydrationWarning>\n        <Header />\n        <main className=\"pt-24 pb-16\">\n          <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n            <LoginForm onLoginSuccess={() => setIsAuthenticated(true)} />\n          </div>\n        </main>\n        <Footer />\n      </div>\n    );\n  }\n\n  // Authenticated - show admin panel\n  return (\n    <div className=\"min-h-screen\" suppressHydrationWarning>\n      {/* <Header /> */}\n\n      <main className=\"pt-10 pb-16\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          {/* Header */}\n          <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-8\">\n            <div>\n              <h1 className=\"text-2xl sm:text-3xl font-serif tracking-[0.15em]\">\n                ADMIN PANEL\n              </h1>\n              <div className=\"w-16 h-px bg-[var(--gold)] mt-3\" />\n            </div>\n            <div className=\"flex items-center gap-4\">\n              {activeTab === 'products' && !showForm && (\n                <button\n                  onClick={() => setShowForm(true)}\n                  className=\"px-5 py-2.5 bg-[var(--gold)] text-white font-medium tracking-wider hover:bg-[var(--gold-dark)] transition-colors\"\n                >\n                  + ADD PRODUCT\n                </button>\n              )}\n              <button\n                onClick={handleLogout}\n                className=\"px-5 py-2.5 border border-gray-300 text-gray-700 font-medium tracking-wider hover:bg-gray-100 transition-colors\"\n              >\n                LOGOUT\n              </button>\n            </div>\n          </div>\n\n          {/* Tab Navigation */}\n          <div className=\"flex gap-4 mb-8 border-b border-gray-200\">\n            <button\n              onClick={() => { setActiveTab('products'); setShowForm(false); setEditingProduct(null); }}\n              className={`pb-4 px-2 text-sm tracking-wider transition-colors ${\n                activeTab === 'products'\n                  ? 'border-b-2 border-[var(--gold)] text-[var(--gold)]'\n                  : 'text-gray-500 hover:text-gray-700'\n              }`}\n            >\n              PRODUCTS\n            </button>\n            <button\n              onClick={() => { setActiveTab('settings'); setShowForm(false); setEditingProduct(null); }}\n              className={`pb-4 px-2 text-sm tracking-wider transition-colors ${\n                activeTab === 'settings'\n                  ? 'border-b-2 border-[var(--gold)] text-[var(--gold)]'\n                  : 'text-gray-500 hover:text-gray-700'\n              }`}\n            >\n              SITE SETTINGS\n            </button>\n          </div>\n\n          {/* Content based on active tab */}\n          {activeTab === 'products' && (\n            <>\n              {showForm ? (\n                <ProductForm\n                  product={editingProduct || undefined}\n                  onSuccess={handleFormSuccess}\n                  onCancel={handleFormCancel}\n                />\n              ) : (\n                <div className=\"bg-white rounded-sm shadow-lg border border-gray-200\">\n                  <div className=\"p-6 border-b border-gray-200\">\n                    <h2 className=\"text-lg font-serif tracking-[0.1em]\">\n                      PRODUCTS ({products.length})\n                    </h2>\n                  </div>\n                  <ProductList\n                    products={products}\n                    onEdit={handleEdit}\n                    onDelete={handleDelete}\n                    loading={loading}\n                  />\n                </div>\n              )}\n            </>\n          )}\n\n          {activeTab === 'settings' && (\n            <SettingsForm\n              onSuccess={() => setActiveTab('products')}\n              onCancel={() => setActiveTab('products')}\n            />\n          )}\n        </div>\n      </main>\n\n      <Footer />\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}